{
    "info": {
        "_postman_id": "9754a7ec-7b0e-4aca-98aa-6eef50f71c46",
        "name": "AthleticaOS Rugby \u2013 FULL API (Updated RBAC Version)",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Healthcheck",
            "item": [
                {
                    "name": "Health Check",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/actuator/health",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "actuator",
                                "health"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Auth",
            "item": [
                {
                    "name": "Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "var json = pm.response.json();",
                                    "pm.test(\"Status code is 200\", function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "if (json.token) {",
                                    "    pm.environment.set(\"token\", json.token);",
                                    "}",
                                    "if (json.roles) {",
                                    "    pm.environment.set(\"roles\", JSON.stringify(json.roles));",
                                    "}",
                                    "if (json.scope) {",
                                    "    pm.environment.set(\"scope\", json.scope);",
                                    "}",
                                    "if (json.user_id) {",
                                    "    pm.environment.set(\"user_id\", json.user_id);",
                                    "} else if (json.id) {",
                                    "    pm.environment.set(\"user_id\", json.id);",
                                    "}",
                                    "// Decode JWT to verify claims",
                                    "var token = json.token;",
                                    "if (token) {",
                                    "    var base64Url = token.split('.')[1];",
                                    "    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');",
                                    "    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {",
                                    "        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);",
                                    "    }).join(''));",
                                    "    var payload = JSON.parse(jsonPayload);",
                                    "    if (payload.roles) {",
                                    "        pm.expect(payload.roles).to.be.an('array');",
                                    "    }",
                                    "    if (payload.scope) {",
                                    "        pm.expect(payload.scope).to.be.a('string');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "auth",
                                "login"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"admin@athleticaos.com\",\n    \"password\": \"password\"\n}"
                        }
                    },
                    "response": []
                },
                {
                    "name": "Register",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/auth/register",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "auth",
                                "register"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"password123\",\n    \"roles\": [\n        \"ROLE_USER\"\n    ],\n    \"organisationId\": \"\"\n}"
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Users",
            "item": [
                {
                    "name": "Get All Users",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/users",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "users"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                },
                {
                    "name": "Get User By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/users/{{user_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "users",
                                "{{user_id}}"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                },
                {
                    "name": "Update User",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/users/{{user_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "users",
                                "{{user_id}}"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe Updated\",\n    \"email\": \"john.doe@example.com\",\n    \"phone\": \"+1234567890\",\n    \"roles\": [\n        \"ROLE_USER\"\n    ],\n    \"organisationId\": \"\",\n    \"isActive\": true\n}"
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Organisations",
            "item": [
                {
                    "name": "Create Organisation",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/organisations",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "organisations"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"New Organisation\",\n    \"orgType\": \"UNION\",\n    \"parentOrgId\": null,\n    \"primaryColor\": \"#FFFFFF\",\n    \"secondaryColor\": \"#000000\",\n    \"logoUrl\": \"http://example.com/logo.png\"\n}"
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Organisations",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/organisations",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "organisations"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                },
                {
                    "name": "Get Organisation By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/organisations/{{org_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "organisations",
                                "{{org_id}}"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Clubs",
            "item": [
                {
                    "name": "Create Club",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/organisations",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "organisations"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"New Club\",\n    \"orgType\": \"CLUB\",\n    \"parentOrgId\": \"{{union_id}}\",\n    \"primaryColor\": \"#FF0000\",\n    \"secondaryColor\": \"#0000FF\",\n    \"logoUrl\": \"http://example.com/club_logo.png\"\n}"
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Teams",
            "item": [
                {
                    "name": "Create Team",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/teams",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "teams"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"organisationId\": \"{{club_id}}\",\n    \"name\": \"Team A\",\n    \"category\": \"MEN\",\n    \"ageGroup\": \"SENIOR\"\n}"
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Teams",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/teams",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "teams"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                },
                {
                    "name": "Get Team By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/teams/{{team_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "teams",
                                "{{team_id}}"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Players",
            "item": [
                {
                    "name": "Create Player",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/players",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "players"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"firstName\": \"Player\",\n    \"lastName\": \"One\",\n    \"gender\": \"MALE\",\n    \"dob\": \"1990-01-01\",\n    \"icOrPassport\": \"A1234567\",\n    \"nationality\": \"Malaysia\",\n    \"email\": \"player@example.com\",\n    \"phone\": \"+60123456789\",\n    \"address\": \"123 Street\",\n    \"dominantHand\": \"RIGHT\",\n    \"dominantLeg\": \"RIGHT\",\n    \"heightCm\": 180,\n    \"weightKg\": 90\n}"
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Players",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/players",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "players"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                },
                {
                    "name": "Get Player By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/players/{{player_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "players",
                                "{{player_id}}"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Tournaments",
            "item": [
                {
                    "name": "Create Tournament",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/tournaments",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "tournaments"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"organiserOrgId\": \"{{union_id}}\",\n    \"name\": \"National Cup\",\n    \"level\": \"NATIONAL\",\n    \"startDate\": \"2024-01-01\",\n    \"endDate\": \"2024-01-10\",\n    \"venue\": \"National Stadium\"\n}"
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Tournaments",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/tournaments",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "tournaments"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                },
                {
                    "name": "Get Tournament By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/tournaments/{{tournament_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "tournaments",
                                "{{tournament_id}}"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Matches",
            "item": [
                {
                    "name": "Create Match",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/matches",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "matches"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"tournamentId\": \"{{tournament_id}}\",\n    \"homeTeamId\": \"{{home_team_id}}\",\n    \"awayTeamId\": \"{{away_team_id}}\",\n    \"matchDate\": \"2024-01-05T15:00:00\",\n    \"location\": \"Field A\",\n    \"stage\": \"GROUP\"\n}"
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Matches",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/matches",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "matches"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                },
                {
                    "name": "Get Match By ID",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/matches/{{match_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "matches",
                                "{{match_id}}"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Match Events",
            "item": [
                {
                    "name": "Create Match Event",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/matches/events",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "matches",
                                "events"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"matchId\": \"{{match_id}}\",\n    \"eventType\": \"TRY\",\n    \"teamId\": \"{{team_id}}\",\n    \"playerId\": \"{{player_id}}\",\n    \"minute\": 15,\n    \"details\": \"Great run\"\n}"
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Branding",
            "item": [
                {
                    "name": "Update Theme",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/themes",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "themes"
                            ]
                        },
                        "description": "",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"organisationId\": \"{{org_id}}\",\n    \"primaryColor\": \"#123456\",\n    \"secondaryColor\": \"#654321\",\n    \"logoUrl\": \"http://example.com/new_logo.png\"\n}"
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Theme",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/v1/themes/{{org_id}}",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "themes",
                                "{{org_id}}"
                            ]
                        },
                        "description": ""
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Calendar",
            "item": []
        },
        {
            "name": "File Uploads",
            "item": []
        },
        {
            "name": "Utility",
            "item": []
        }
    ]
}